-- Tabel User
CREATE TABLE Users (
  user_id INTEGER PRIMARY KEY AUTOINCREMENT,
  username TEXT NOT NULL,
  password_hash TEXT NOT NULL,
  email TEXT NOT NULL
  -- Informasi tambahan sesuai kebutuhan
);

-- Tabel Accounts
CREATE TABLE Accounts (
  account_id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  account_name TEXT NOT NULL,
  balance REAL DEFAULT 0,
  currency TEXT,
  FOREIGN KEY (user_id) REFERENCES Users(user_id)
  -- Informasi tambahan sesuai kebutuhan
);

-- Tabel Transactions
CREATE TABLE Transactions (
  transaction_id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  account_id INTEGER NOT NULL,
  transaction_date DATE,
  description TEXT,
  amount REAL,
  type TEXT CHECK (type IN ('income', 'expense', 'transfer')),
  category_id INTEGER,
  location TEXT,
  FOREIGN KEY (user_id) REFERENCES Users(user_id),
  FOREIGN KEY (account_id) REFERENCES Accounts(account_id),
  FOREIGN KEY (category_id) REFERENCES Categories(category_id)
  -- Informasi tambahan sesuai kebutuhan
);

-- Tabel Categories
CREATE TABLE Categories (
  category_id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  category_name TEXT NOT NULL,
  parent_category_id INTEGER, -- Untuk kategori induk jika ada hierarki
  FOREIGN KEY (user_id) REFERENCES Users(user_id)
  -- Informasi tambahan sesuai kebutuhan
);

-- Tabel Budgets
CREATE TABLE Budgets (
  budget_id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  category_id INTEGER NOT NULL,
  amount REAL,
  start_date DATE,
  end_date DATE,
  FOREIGN KEY (user_id) REFERENCES Users(user_id),
  FOREIGN KEY (category_id) REFERENCES Categories(category_id)
  -- Informasi tambahan sesuai kebutuhan
);

-- Tabel Goals
CREATE TABLE Goals (
  goal_id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  goal_name TEXT,
  target_amount REAL,
  start_date DATE,
  end_date DATE,
  current_amount REAL,
  FOREIGN KEY (user_id) REFERENCES Users(user_id)
  -- Informasi tambahan sesuai kebutuhan
);